<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Galactic models comparison - short version &mdash; Radio calibration toolkit 0.1 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/sphinx_rtd_size.css" type="text/css" />
      <link rel="stylesheet" href="../_static/nbsphinx-code-cells.css" type="text/css" />
      <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
        <script src="../_static/custom.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #2980B9" >

          
          
          <a href="../index.html" class="icon icon-home">
            Radio calibration toolkit
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../readme_link.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../readme_link.html#install">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../readme_link.html#documentation-and-tutorial">Documentation and tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../readme_link.html#examples-using-measured-data">Examples using measured data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../readme_link.html#some-tips-on-installing-the-ulsa">Some tips on installing the ULSA</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorial</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html">Galactic models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html#antenna-model">Antenna model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html#antenna-galaxy-response">Antenna-galaxy response</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html#mocktraces">Mocktraces</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html#calibration">Calibration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html#miscellaneous">Miscellaneous</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../radiocalibrationtoolkit.skymapwrappers.html">skymapwrappers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../radiocalibrationtoolkit.antennareader.html">antennareader</a></li>
<li class="toctree-l1"><a class="reference internal" href="../radiocalibrationtoolkit.mocktracegenerator.html">mocktracegenerator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../radiocalibrationtoolkit.common.html">common</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #2980B9" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Radio calibration toolkit</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Galactic models comparison - short version</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/examples/galactic_models_comparison.ipynb.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="Galactic-models-comparison---short-version">
<h1>Galactic models comparison - short version<a class="headerlink" href="#Galactic-models-comparison---short-version" title="Permalink to this heading">Â¶</a></h1>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">healpy.newvisufunc</span> <span class="kn">import</span> <span class="n">projview</span>
<span class="kn">from</span> <span class="nn">healpy.rotator</span> <span class="kn">import</span> <span class="n">Rotator</span>
<span class="kn">import</span> <span class="nn">healpy</span> <span class="k">as</span> <span class="nn">hp</span>
<span class="kn">import</span> <span class="nn">traceback</span>

<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">itertools</span>

<span class="kn">import</span> <span class="nn">plotly.graph_objects</span> <span class="k">as</span> <span class="nn">go</span>
<span class="kn">import</span> <span class="nn">plotly.express</span> <span class="k">as</span> <span class="nn">px</span>

<span class="kn">from</span> <span class="nn">sklearn.neighbors</span> <span class="kn">import</span> <span class="n">KernelDensity</span>

<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">radiocalibrationtoolkit</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># some global plot settings</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s2">&quot;axes.labelweight&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;bold&quot;</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s2">&quot;font.weight&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;bold&quot;</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;font.size&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">16</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;legend.fontsize&#39;</span><span class="p">]</span><span class="o">=</span> <span class="mi">14</span>

<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;xtick.major.width&#39;</span><span class="p">]</span><span class="o">=</span> <span class="mi">2</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;ytick.major.width&#39;</span><span class="p">]</span><span class="o">=</span> <span class="mi">2</span>

<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;xtick.major.size&#39;</span><span class="p">]</span><span class="o">=</span> <span class="mi">5</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;ytick.major.size&#39;</span><span class="p">]</span><span class="o">=</span> <span class="mi">5</span>

<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;xtick.labelsize&#39;</span><span class="p">]</span><span class="o">=</span> <span class="mi">14</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;ytick.labelsize&#39;</span><span class="p">]</span><span class="o">=</span> <span class="mi">14</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Prepare instances</span>
<span class="n">lfmap</span> <span class="o">=</span> <span class="n">LFmap</span><span class="p">()</span>
<span class="n">lfss</span> <span class="o">=</span> <span class="n">LowFrequencySkyModel</span><span class="p">(</span><span class="n">freq_unit</span><span class="o">=</span><span class="s2">&quot;MHz&quot;</span><span class="p">)</span>
<span class="n">gsm2008</span> <span class="o">=</span> <span class="n">GlobalSkyModel</span><span class="p">(</span><span class="n">freq_unit</span><span class="o">=</span><span class="s2">&quot;MHz&quot;</span><span class="p">)</span>
<span class="n">gsm2016</span> <span class="o">=</span> <span class="n">GlobalSkyModel2016</span><span class="p">(</span><span class="n">freq_unit</span><span class="o">=</span><span class="s2">&quot;MHz&quot;</span><span class="p">)</span>
<span class="n">haslam</span> <span class="o">=</span> <span class="n">HaslamSkyModel</span><span class="p">(</span><span class="n">freq_unit</span><span class="o">=</span><span class="s2">&quot;MHz&quot;</span><span class="p">,</span> <span class="n">spectral_index</span><span class="o">=-</span><span class="mf">2.53</span><span class="p">)</span>
<span class="n">ssm</span> <span class="o">=</span> <span class="n">SSM</span><span class="p">()</span>
<span class="n">gmoss</span> <span class="o">=</span> <span class="n">GMOSS</span><span class="p">()</span>
<span class="n">ulsa_fdi</span> <span class="o">=</span> <span class="n">ULSA</span><span class="p">(</span><span class="n">index_type</span><span class="o">=</span><span class="s1">&#39;freq_dependent_index&#39;</span><span class="p">)</span>
<span class="n">ulsa_ci</span> <span class="o">=</span> <span class="n">ULSA</span><span class="p">(</span><span class="n">index_type</span><span class="o">=</span><span class="s1">&#39;constant_index&#39;</span><span class="p">)</span>
<span class="n">ulsa_dpi</span> <span class="o">=</span> <span class="n">ULSA</span><span class="p">(</span><span class="n">index_type</span><span class="o">=</span><span class="s1">&#39;direction_dependent_index&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">frequency_MHz</span> <span class="o">=</span> <span class="mi">45</span>

<span class="n">lfmap_map</span> <span class="o">=</span> <span class="n">lfmap</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span><span class="n">frequency_MHz</span><span class="p">)</span>
<span class="n">lfss_map</span> <span class="o">=</span> <span class="n">lfss</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span><span class="n">frequency_MHz</span><span class="p">)</span>
<span class="n">gsm2008_map</span> <span class="o">=</span> <span class="n">gsm2008</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span><span class="n">frequency_MHz</span><span class="p">)</span>
<span class="n">gsm2016_map</span> <span class="o">=</span> <span class="n">gsm2016</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span><span class="n">frequency_MHz</span><span class="p">)</span>
<span class="n">haslam_map</span> <span class="o">=</span> <span class="n">haslam</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span><span class="n">frequency_MHz</span><span class="p">)</span>
<span class="n">ssm_map</span> <span class="o">=</span> <span class="n">ssm</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span><span class="n">frequency_MHz</span><span class="p">)</span>
<span class="n">gmoss_map</span> <span class="o">=</span> <span class="n">gmoss</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span><span class="n">frequency_MHz</span><span class="p">)</span>
<span class="n">ulsa_fdi_map</span> <span class="o">=</span> <span class="n">ulsa_fdi</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span><span class="n">frequency_MHz</span><span class="p">)</span>
<span class="n">ulsa_ci_map</span> <span class="o">=</span> <span class="n">ulsa_ci</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span><span class="n">frequency_MHz</span><span class="p">)</span>
<span class="n">ulsa_dpi_map</span> <span class="o">=</span> <span class="n">ulsa_dpi</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span><span class="n">frequency_MHz</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Check size of the arrays and NSIDE number and angular resolution</span>

<span class="n">map_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">lfmap_map</span><span class="p">,</span> <span class="n">lfss_map</span><span class="p">,</span> <span class="n">gsm2008_map</span><span class="p">,</span> <span class="n">gsm2016_map</span><span class="p">,</span> <span class="n">haslam_map</span><span class="p">,</span> <span class="n">ssm_map</span><span class="p">,</span> <span class="n">gmoss_map</span><span class="p">,</span> <span class="n">ulsa_fdi_map</span><span class="p">,</span> <span class="n">ulsa_ci_map</span><span class="p">,</span> <span class="n">ulsa_dpi_map</span><span class="p">]</span>
<span class="p">[</span><span class="n">print_map_properties</span><span class="p">(</span><span class="n">m</span><span class="p">)</span> <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">map_list</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># convert to same NSIDE</span>
<span class="n">new_nside</span> <span class="o">=</span> <span class="mi">64</span>
<span class="n">lfmap_map_N</span> <span class="o">=</span> <span class="n">hp</span><span class="o">.</span><span class="n">ma</span><span class="p">(</span><span class="n">hp</span><span class="o">.</span><span class="n">pixelfunc</span><span class="o">.</span><span class="n">ud_grade</span><span class="p">(</span><span class="n">lfmap_map</span><span class="p">,</span> <span class="n">new_nside</span><span class="p">))</span>
<span class="n">lfss_map_N</span> <span class="o">=</span> <span class="n">hp</span><span class="o">.</span><span class="n">ma</span><span class="p">(</span><span class="n">hp</span><span class="o">.</span><span class="n">pixelfunc</span><span class="o">.</span><span class="n">ud_grade</span><span class="p">(</span><span class="n">lfss_map</span><span class="p">,</span> <span class="n">new_nside</span><span class="p">))</span>
<span class="n">gsm2008_map_N</span> <span class="o">=</span> <span class="n">hp</span><span class="o">.</span><span class="n">ma</span><span class="p">(</span><span class="n">hp</span><span class="o">.</span><span class="n">pixelfunc</span><span class="o">.</span><span class="n">ud_grade</span><span class="p">(</span><span class="n">gsm2008_map</span><span class="p">,</span> <span class="n">new_nside</span><span class="p">))</span>
<span class="n">gsm2016_map_N</span> <span class="o">=</span> <span class="n">hp</span><span class="o">.</span><span class="n">ma</span><span class="p">(</span><span class="n">hp</span><span class="o">.</span><span class="n">pixelfunc</span><span class="o">.</span><span class="n">ud_grade</span><span class="p">(</span><span class="n">gsm2016_map</span><span class="p">,</span> <span class="n">new_nside</span><span class="p">))</span>
<span class="n">ssm_map_N</span> <span class="o">=</span> <span class="n">hp</span><span class="o">.</span><span class="n">ma</span><span class="p">(</span><span class="n">hp</span><span class="o">.</span><span class="n">pixelfunc</span><span class="o">.</span><span class="n">ud_grade</span><span class="p">(</span><span class="n">ssm_map</span><span class="p">,</span> <span class="n">new_nside</span><span class="p">))</span>
<span class="n">haslam_map_N</span> <span class="o">=</span> <span class="n">hp</span><span class="o">.</span><span class="n">ma</span><span class="p">(</span><span class="n">hp</span><span class="o">.</span><span class="n">pixelfunc</span><span class="o">.</span><span class="n">ud_grade</span><span class="p">(</span><span class="n">haslam_map</span><span class="p">,</span> <span class="n">new_nside</span><span class="p">))</span>
<span class="n">gmoss_map_N</span> <span class="o">=</span> <span class="n">hp</span><span class="o">.</span><span class="n">ma</span><span class="p">(</span><span class="n">hp</span><span class="o">.</span><span class="n">pixelfunc</span><span class="o">.</span><span class="n">ud_grade</span><span class="p">(</span><span class="n">gmoss_map</span><span class="p">,</span> <span class="n">new_nside</span><span class="p">))</span>
<span class="n">ulsa_fdi_map_N</span> <span class="o">=</span> <span class="n">hp</span><span class="o">.</span><span class="n">ma</span><span class="p">(</span><span class="n">hp</span><span class="o">.</span><span class="n">pixelfunc</span><span class="o">.</span><span class="n">ud_grade</span><span class="p">(</span><span class="n">ulsa_fdi_map</span><span class="p">,</span> <span class="n">new_nside</span><span class="p">))</span>
<span class="n">ulsa_ci_map_N</span> <span class="o">=</span> <span class="n">hp</span><span class="o">.</span><span class="n">ma</span><span class="p">(</span><span class="n">hp</span><span class="o">.</span><span class="n">pixelfunc</span><span class="o">.</span><span class="n">ud_grade</span><span class="p">(</span><span class="n">ulsa_ci_map</span><span class="p">,</span> <span class="n">new_nside</span><span class="p">))</span>
<span class="n">ulsa_dpi_map_N</span> <span class="o">=</span> <span class="n">hp</span><span class="o">.</span><span class="n">ma</span><span class="p">(</span><span class="n">hp</span><span class="o">.</span><span class="n">pixelfunc</span><span class="o">.</span><span class="n">ud_grade</span><span class="p">(</span><span class="n">ulsa_dpi_map</span><span class="p">,</span> <span class="n">new_nside</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">map_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;LFSS&quot;</span><span class="p">:</span> <span class="n">lfss_map_N</span><span class="p">,</span>
    <span class="s2">&quot;GSM08&quot;</span><span class="p">:</span> <span class="n">gsm2008_map_N</span><span class="p">,</span>
    <span class="s2">&quot;GSM16&quot;</span><span class="p">:</span> <span class="n">gsm2016_map_N</span><span class="p">,</span>
    <span class="s2">&quot;Haslam&quot;</span><span class="p">:</span> <span class="n">haslam_map_N</span><span class="p">,</span>
    <span class="s2">&quot;LFmap&quot;</span><span class="p">:</span> <span class="n">lfmap_map_N</span><span class="p">,</span>
    <span class="s2">&quot;SSM&quot;</span><span class="p">:</span> <span class="n">ssm_map_N</span><span class="p">,</span>
    <span class="s2">&quot;GMOSS&quot;</span><span class="p">:</span> <span class="n">gmoss_map_N</span><span class="p">,</span>
    <span class="s2">&quot;ULSA&quot;</span><span class="p">:</span> <span class="n">ulsa_fdi_map_N</span><span class="p">,</span>
    <span class="c1"># &quot;ULSA2&quot;: ulsa_ci_map_N,</span>
    <span class="c1"># &quot;ULSA3&quot;: ulsa_dpi_map_N,</span>
<span class="p">}</span>

<span class="n">ulsa_map_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;ULSA FDI&quot;</span><span class="p">:</span> <span class="n">ulsa_fdi_map_N</span><span class="p">,</span>
    <span class="s2">&quot;ULSA CI&quot;</span><span class="p">:</span> <span class="n">ulsa_ci_map_N</span><span class="p">,</span>
    <span class="s2">&quot;ULSA DPI&quot;</span><span class="p">:</span> <span class="n">ulsa_dpi_map_N</span><span class="p">,</span>
<span class="p">}</span>
<br/></pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Print the maps in the dictionary</span>
<span class="p">[(</span><span class="n">key</span><span class="p">,</span> <span class="n">map_dict</span><span class="p">[</span><span class="n">key</span><span class="p">])</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">map_dict</span><span class="p">]</span>
</pre></div>
</div>
</div>
<section id="Galactic-coordinates">
<h2>Galactic coordinates<a class="headerlink" href="#Galactic-coordinates" title="Permalink to this heading">Â¶</a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Prints all maps</span>
<span class="n">cmap</span> <span class="o">=</span> <span class="s2">&quot;jet&quot;</span>
<span class="n">projection_type</span> <span class="o">=</span> <span class="s2">&quot;mollweide&quot;</span>

<span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">map_dict</span><span class="p">:</span>

    <span class="n">projview</span><span class="p">(</span>
        <span class="n">map_dict</span><span class="p">[</span><span class="n">key</span><span class="p">],</span>
        <span class="n">norm</span><span class="o">=</span><span class="s2">&quot;log&quot;</span><span class="p">,</span>
        <span class="n">coord</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;G&quot;</span><span class="p">],</span>
        <span class="n">graticule</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">graticule_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">unit</span><span class="o">=</span><span class="s2">&quot;Temperature ln[K]&quot;</span><span class="p">,</span>
        <span class="n">xlabel</span><span class="o">=</span><span class="s2">&quot;RA&quot;</span><span class="p">,</span>
        <span class="n">ylabel</span><span class="o">=</span><span class="s2">&quot;DEC&quot;</span><span class="p">,</span>
        <span class="n">cb_orientation</span><span class="o">=</span><span class="s2">&quot;vertical&quot;</span><span class="p">,</span>
        <span class="nb">min</span><span class="o">=</span><span class="mi">3500</span><span class="p">,</span>
        <span class="nb">max</span><span class="o">=</span><span class="mi">35000</span><span class="p">,</span>
        <span class="n">latitude_grid_spacing</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span>
        <span class="n">projection_type</span><span class="o">=</span><span class="n">projection_type</span><span class="p">,</span>
        <span class="n">title</span><span class="o">=</span><span class="n">key</span><span class="p">,</span>
        <span class="n">xtick_label_color</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">,</span>
        <span class="n">cmap</span><span class="o">=</span><span class="n">cmap</span><span class="p">,</span>
    <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">compare_maps</span><span class="p">(</span>
    <span class="n">map_dict</span><span class="p">,</span>
    <span class="n">main_title</span><span class="o">=</span><span class="s2">&quot;Frequency: </span><span class="si">{}</span><span class="s2"> MHz; Compared on </span><span class="si">{:.2f}{}</span><span class="s2"> angular resolution&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
        <span class="n">frequency_MHz</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">rad2deg</span><span class="p">(</span><span class="n">hp</span><span class="o">.</span><span class="n">pixelfunc</span><span class="o">.</span><span class="n">nside2resol</span><span class="p">(</span><span class="n">new_nside</span><span class="p">)),</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">176</span><span class="p">)</span>
    <span class="p">),</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">compare_maps</span><span class="p">(</span>
    <span class="n">ulsa_map_dict</span><span class="p">,</span>
    <span class="n">main_title</span><span class="o">=</span><span class="s2">&quot;Frequency: </span><span class="si">{}</span><span class="s2"> MHz; Compared on </span><span class="si">{:.2f}{}</span><span class="s2"> angular resolution&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
        <span class="n">frequency_MHz</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">rad2deg</span><span class="p">(</span><span class="n">hp</span><span class="o">.</span><span class="n">pixelfunc</span><span class="o">.</span><span class="n">nside2resol</span><span class="p">(</span><span class="n">new_nside</span><span class="p">)),</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">176</span><span class="p">)</span>
    <span class="p">),</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="Local-obsever">
<h2>Local obsever<a class="headerlink" href="#Local-obsever" title="Permalink to this heading">Â¶</a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">lst</span> <span class="o">=</span> <span class="mi">18</span>
<span class="n">latitude</span> <span class="o">=</span> <span class="o">-</span><span class="mf">35.206667</span>
<span class="n">frequency_MHz</span> <span class="o">=</span> <span class="mi">45</span>
<span class="n">main_title</span> <span class="o">=</span> <span class="s2">&quot;Frequency: </span><span class="si">{}</span><span class="s2"> MHz; Compared on </span><span class="si">{:.2f}{}</span><span class="s2"> angular resolution; LST:</span><span class="si">{}</span><span class="s2">; Latitude:</span><span class="si">{:.2f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
    <span class="n">frequency_MHz</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">rad2deg</span><span class="p">(</span><span class="n">hp</span><span class="o">.</span><span class="n">pixelfunc</span><span class="o">.</span><span class="n">nside2resol</span><span class="p">(</span><span class="n">new_nside</span><span class="p">)),</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">176</span><span class="p">),</span> <span class="n">lst</span><span class="p">,</span> <span class="n">latitude</span>
<span class="p">)</span>

<span class="c1"># Local coordinates at LST time &quot;LSTtime&quot; at latitude &quot;latitude&quot;</span>
<span class="n">rotation_parameters</span> <span class="o">=</span> <span class="n">create_rotation_parameters</span><span class="p">(</span><span class="n">lst</span><span class="p">,</span> <span class="n">latitude</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Prints all maps</span>
<span class="n">cmap</span> <span class="o">=</span> <span class="s2">&quot;jet&quot;</span>
<span class="n">projection_type</span> <span class="o">=</span> <span class="s2">&quot;mollweide&quot;</span>

<span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">map_dict</span><span class="p">:</span>

    <span class="n">projview</span><span class="p">(</span>
        <span class="n">map_dict</span><span class="p">[</span><span class="n">key</span><span class="p">],</span>
        <span class="n">norm</span><span class="o">=</span><span class="s2">&quot;log&quot;</span><span class="p">,</span>
        <span class="n">coord</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;G&#39;</span><span class="p">,</span><span class="s1">&#39;C&#39;</span><span class="p">],</span>
        <span class="n">rot</span><span class="o">=</span><span class="n">rotation_parameters</span><span class="p">,</span>
        <span class="n">graticule</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">graticule_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">unit</span><span class="o">=</span><span class="s2">&quot;Temperature ln[K]&quot;</span><span class="p">,</span>
        <span class="n">xlabel</span><span class="o">=</span><span class="s2">&quot;azimuth&quot;</span><span class="p">,</span>
        <span class="n">ylabel</span><span class="o">=</span><span class="s2">&quot;altitude&quot;</span><span class="p">,</span>
        <span class="n">cb_orientation</span><span class="o">=</span><span class="s2">&quot;vertical&quot;</span><span class="p">,</span>
        <span class="nb">min</span><span class="o">=</span><span class="mi">3500</span><span class="p">,</span>
        <span class="nb">max</span><span class="o">=</span><span class="mi">35000</span><span class="p">,</span>
        <span class="n">latitude_grid_spacing</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span>
        <span class="n">projection_type</span><span class="o">=</span><span class="n">projection_type</span><span class="p">,</span>
        <span class="n">title</span><span class="o">=</span><span class="n">key</span><span class="p">,</span>
        <span class="n">xtick_label_color</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">,</span>
        <span class="n">cmap</span><span class="o">=</span><span class="n">cmap</span><span class="p">,</span>
    <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create mask, at local coordinates we see only a hemisphere</span>
<span class="n">mask</span> <span class="o">=</span> <span class="n">create_local_mask</span><span class="p">(</span><span class="n">new_nside</span><span class="p">,</span> <span class="n">rotation_parameters</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Test</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">map_dict</span><span class="p">[</span><span class="s1">&#39;LFmap&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">m</span><span class="o">.</span><span class="n">mask</span> <span class="o">=</span> <span class="n">mask</span>

<span class="n">projview</span><span class="p">(</span>
    <span class="n">m</span><span class="p">,</span>
    <span class="n">norm</span><span class="o">=</span><span class="s2">&quot;log&quot;</span><span class="p">,</span>
    <span class="n">coord</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;G&quot;</span><span class="p">,</span><span class="s1">&#39;C&#39;</span><span class="p">],</span>
    <span class="n">rot</span><span class="o">=</span><span class="n">rotation_parameters</span><span class="p">,</span>
    <span class="n">graticule</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">graticule_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">unit</span><span class="o">=</span><span class="s2">&quot;Temperature ln[K]&quot;</span><span class="p">,</span>
    <span class="n">xlabel</span><span class="o">=</span><span class="s2">&quot;azimuth&quot;</span><span class="p">,</span>
    <span class="n">ylabel</span><span class="o">=</span><span class="s2">&quot;altitude&quot;</span><span class="p">,</span>
    <span class="n">cb_orientation</span><span class="o">=</span><span class="s2">&quot;vertical&quot;</span><span class="p">,</span>
    <span class="nb">min</span><span class="o">=</span><span class="mi">3500</span><span class="p">,</span>
    <span class="nb">max</span><span class="o">=</span><span class="mi">35000</span><span class="p">,</span>
    <span class="n">latitude_grid_spacing</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span>
    <span class="n">xtick_label_color</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="n">main_title</span><span class="p">,</span>
    <span class="n">cmap</span><span class="o">=</span><span class="n">cmap</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">projview</span><span class="p">(</span>
    <span class="n">m</span><span class="p">,</span>
    <span class="n">norm</span><span class="o">=</span><span class="s2">&quot;log&quot;</span><span class="p">,</span>
    <span class="n">coord</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;G&quot;</span><span class="p">],</span>
    <span class="n">rot</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">graticule</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">graticule_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">unit</span><span class="o">=</span><span class="s2">&quot;Temperature ln[K]&quot;</span><span class="p">,</span>
    <span class="n">xlabel</span><span class="o">=</span><span class="s2">&quot;RA&quot;</span><span class="p">,</span>
    <span class="n">ylabel</span><span class="o">=</span><span class="s2">&quot;DEC&quot;</span><span class="p">,</span>
    <span class="n">cb_orientation</span><span class="o">=</span><span class="s2">&quot;vertical&quot;</span><span class="p">,</span>
    <span class="nb">min</span><span class="o">=</span><span class="mi">3500</span><span class="p">,</span>
    <span class="nb">max</span><span class="o">=</span><span class="mi">35000</span><span class="p">,</span>
    <span class="n">latitude_grid_spacing</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span>
    <span class="n">xtick_label_color</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="n">main_title</span><span class="p">,</span>
    <span class="n">cmap</span><span class="o">=</span><span class="n">cmap</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<section id="In-local-coordinates">
<h3>In local coordinates<a class="headerlink" href="#In-local-coordinates" title="Permalink to this heading">Â¶</a></h3>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">compare_maps</span><span class="p">(</span>
    <span class="n">map_dict</span><span class="p">,</span> <span class="n">rotation_parameters</span><span class="o">=</span><span class="n">rotation_parameters</span><span class="p">,</span> <span class="n">coord</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;G&#39;</span><span class="p">,</span><span class="s1">&#39;C&#39;</span><span class="p">],</span> <span class="n">main_title</span><span class="o">=</span><span class="n">main_title</span><span class="p">,</span> <span class="n">mask</span><span class="o">=</span><span class="n">mask</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="In-galactic-coordinates-(masked)">
<h3>In galactic coordinates (masked)<a class="headerlink" href="#In-galactic-coordinates-(masked)" title="Permalink to this heading">Â¶</a></h3>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">compare_maps</span><span class="p">(</span><span class="n">map_dict</span><span class="p">,</span> <span class="n">rotation_parameters</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">main_title</span><span class="o">=</span><span class="n">main_title</span><span class="p">,</span> <span class="n">mask</span><span class="o">=</span><span class="n">mask</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">lst</span> <span class="o">=</span> <span class="mi">18</span>
<span class="n">latitude</span> <span class="o">=</span> <span class="o">-</span><span class="mf">35.206667</span>
<span class="n">rotation_parameters</span> <span class="o">=</span> <span class="n">create_rotation_parameters</span><span class="p">(</span><span class="n">lst</span><span class="p">,</span> <span class="n">latitude</span><span class="p">)</span>
<span class="n">mask</span> <span class="o">=</span> <span class="n">create_local_mask</span><span class="p">(</span><span class="n">nside</span><span class="p">,</span> <span class="n">rotation_parameters</span><span class="p">)</span>
<span class="n">gsm2016_map</span> <span class="o">=</span> <span class="n">hp</span><span class="o">.</span><span class="n">ma</span><span class="p">(</span><span class="n">gsm2016_map</span><span class="p">)</span>
<span class="n">gsm2016_map</span><span class="o">.</span><span class="n">mask</span> <span class="o">=</span> <span class="n">mask</span>
<br/></pre></div>
</div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Tomas Fodran.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>